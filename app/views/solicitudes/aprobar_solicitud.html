<div class="panel panel-default">
    <div class="panel-heading">
        {{'APROBAR_SOLICITUD'|translate}}
    </div>
    <loading tam="4" load="loadSolicitud" message="msgCargandoSolicitud"> </loading>
    <div class="panel-body" ng-if="!loadSolicitud">

      <div class="panel panel-default">
          <div class="panel-heading">
              {{'INFORMACION_SOLICITUD' | translate}}
          </div>
            <div class="panel-body">
                <div clase="row">
                    <label class="col-sm-4 control-label"> {{'NUMERO_RADICADO'|translate}}:  </label>
                    <label class="col-sm-8 control-label"> {{aprobarSolicitud.detallesSolicitud.id}}  </label>
                </div>
                <div clase="row">
                    <label class="col-sm-4 control-label"> {{'FECHA'|translate}}:  </label>
                    <label class="col-sm-8 control-label"> {{aprobarSolicitud.detallesSolicitud.fechaSolicitud}}  </label>
                </div>
                <div clase="row">
                    <label class="col-sm-4 control-label"> {{'SOLICITANTES'|translate}}:  </label>
                    <label class="col-sm-8 control-label"> {{aprobarSolicitud.detallesSolicitud.solicitantes}}  </label>
                </div>
          </div>

      </div>



      <div class="panel panel-default">
          <div class="panel-heading">
              {{'DETALLES_SOLICITUD' | translate}}
          </div>
          <div class="panel-body">

             <div  class="row" ng-repeat="detalle in aprobarSolicitud.detallesSolicitud">

              <label class="col-sm-4 control-label"> {{detalle.DetalleTipoSolicitud.Detalle.Nombre}}:  </label>


              <div ng-if="detalle.carrera!==undefined" >
                    <label class="col-sm-8 control-label"> {{'CARRERA' | translate}}: {{detalle.carrera.Nombre}}  </label>
                    <div class="panel col-md-12">
                          <div ui-grid="detalle.gridOptions" class="mi-grid" id="mi-grid" style="height: {{(detalle.gridOptions.data.length*35)+40}}px" ui-grid-cellNav ui-grid-auto-resize></div>
                    </div>
              </div>
              <div ng-if="detalle.carrera===undefined">
                <div ng-if="detalle.DetalleTipoSolicitud.Detalle.TipoDetalle.Nombre!=='Documento'">
                    <label class="col-sm-8 "> {{detalle.Descripcion}} </label>
                </div>
                <div ng-if="detalle.DetalleTipoSolicitud.Detalle.TipoDetalle.Nombre==='Documento'">
                    <label ng-click="aprobarSolicitud.getDocumento(detalle.Descripcion)" class="col-sm-8 " style="color:blue; text-decoration: underline;"> {{ 'VER_DOCUMENTO' | translate}} </label>
                </div>
              </div>

            </div>
          </div>

        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                {{'FORMULARIO_APROBACION' | translate}}
            </div>
              <loading tam="4" load="loadFormulario" message="msgEnviandFormulario"> </loading>
              <div class="panel-body" ng-if="!loadFormulario">
                  <form method="post" name="formularioAprobacion" ng-submit="aprobarSolicitud.validarFormularioAprobacion()">
                    <div class="row">
                      <label class="col-sm-4 control-label"> {{'RESPUESTA' | translate}} </label>
                      <div class="col-sm-8">
                          <select class="form-control" ng-model="aprobarSolicitud.respuestaSolicitud" required>
                                <option  ng-value="si"> {{'APROBAR_SOLICITUD' | translate}} </option>
                                <option  ng-value="no"> {{'RECHAZAR_SOLICITUD' | translate}} </option>
                          </select>
                      </div>
                    </div>
                  <br>
                  <div clas="row">
                      <label class="col-sm-4 control-label">{{'JUSTIFICACION_RESPUESTA_SOLICITUD' | translate}} </label>
                      <textarea class="form-control" style="resize: none; " rows="8" cols="100" ng-model="aprobarSolicitud.justificacion" required></textarea>
                  </div>
                  <br>
                  <div class="row">
                    <label class="col-sm-12 control-label"> {{'ACTA_RESPUESTA_SOLICITUD' |translate}} </label>
                    <input type="file" class="form-control" angular-bfi="{'showUpload':false, allowedFileExtensions:['pdf'], language:'es', maxFileSize: 2000}" file-model="aprobarSolicitud.acta" required> </input>
                  </div>
                  <br>
                  <!--Docente que avala la propuesta -->
                  <div class="row" ng-if="aprobarSolicitud.isInicial">
                    <label class="col-sm-4 control-label"> {{'SELECT.DOCENTE_DIRECTOR' | translate}} </label>
                    <div class="col-sm-8">
                    <ui-select refresh-delay="400" on-select="aprobarSolicitud.reloadScroll()" ng-model="aprobarSolicitud.docenteDirector" theme="bootstrap" reset-search-input="false" style="width:95%;">
                           <ui-select-match  placeholder="{{'SELECT.SELECCIONE' | translate}}">{{$select.selected.NOMBRE}} </ui-select-match>
                           <ui-select-choices infinite-scroll-container="'#demoScrollDocente'" id="demoScrollDocente" infinite-scroll="addMoreItems()"  infinite-scroll-distance="10" repeat="docente in aprobarSolicitud.docentes | filter: $select.search | limitTo:infiniteScroll.currentItems | limitTo:($select.search.length <= 1) ? 0 : undefined">
                               <span ng-bind-html="docente.NOMBRE | highlight: $select.search"></span>
                           </ui-select-choices>
                       </ui-select>
                    </div>
                  </div>
                  <br ng-if="aprobarSolicitud.isInicial">
                  <!--Docente que avala la propuesta -->
                  <div class="row" ng-if="aprobarSolicitud.hasRevisor">
                    <label class="col-sm-4 control-label"> {{'SELECT.DOCENTE_REVISOR' | translate}} </label>
                    <div class="col-sm-8">
                      <ui-select refresh-delay="500" on-select="aprobarSolicitud.reloadScroll()" ng-model="aprobarSolicitud.docenteRevisor"  theme="bootstrap" reset-search-input="false" style="width:95%;">
                           <ui-select-match  placeholder="{{'SELECT.SELECCIONE' | translate}}">{{$select.selected.NOMBRE}} </ui-select-match>
                            <ui-select-choices infinite-scroll-container="'#demoScrollRevisor'" id="demoScrollRevisor" infinite-scroll="addMoreItems()"  infinite-scroll-distance="10" repeat="docente in aprobarSolicitud.docentes | filter: $select.search | limitTo:infiniteScroll.currentItems | limitTo:($select.search.length <= 1) ? 0 : undefined">
                               <span ng-bind-html="docente.NOMBRE | highlight: $select.search"></span>
                           </ui-select-choices>
                       </ui-select>
                    </div>
                  </div>
                  <br ng-if="aprobarSolicitud.hasRevisor">

                  <div class="row">
                    <label class="col-sm-5 control-label"> </label>
                    <input type="submit" value="{{'BTN.RESPONDER_SOLICITUD' | translate}}"  class="col-sm-2 btn btn-success"></input>
                    <label class="col-sm-5 control-label"> </label>
                  </div>
                  </form>
                </div>
            </div>
        </div>


      </div>
    </div>

</div>
