<br>
<div class="panel panel-default">
  <div class="panel-heading">
    {{'LISTAR_SOLICITUDES' | translate}}
  </div>
  <div class="panel-body">
    <loading tam="4" load="loadParametros" message="cargandoParametros"> </loading>
    <div class="panel-body alert alert-danger" ng-if="!loadParametros && listarSolicitudes.errorCargarParametros">
      {{listarSolicitudes.mensajeError}}
    </div>
    <div ng-if="!loadParametros && !listarSolicitudes.errorCargarParametros">
      <!--<pre>{{listarsolicitudes.sols | json}}</pre>-->
      <div class="row">
      <label for="anio" class="col-sm-2 control-label">{{'ANO' | translate}}</label>
      <label for="anioSel" class="col-sm-10 control-label">{{listarSolicitudes.periodo.anio}}</label>

      <label for="periodo" class="col-sm-2 control-label">{{'PERIODO' | translate}}</label>
      <label for="anioSel" class="col-sm-10 control-label">{{listarSolicitudes.periodo.periodo}}</label>

      <label for="carrera" class="col-sm-2 control-label">{{'CARRERA' | translate}}</label>
      <div class="col-sm-10">
        <form name="myForm">
          <ui-select name="carrera" ng-model="listarSolicitudes.carreraSeleccionada" required on-select="listarSolicitudes.buscarSolicitudes(listarSolicitudes.carreraSeleccionada)" style="width:95%;" theme="bootstrap" >
            <ui-select-match placeholder="{{'SELECT.SELECCIONE' | translate}}">{{$select.selected.codigo_proyecto_curricular}} - {{$select.selected.nombre_proyecto_curricular}}
            </ui-select-match>
            <ui-select-choices repeat="item.codigo_proyecto_curricular as item in listarSolicitudes.carreras | filter: $select.search">
              <span ng-bind="item.codigo_proyecto_curricular"></span> - <span ng-bind="item.nombre_proyecto_curricular"></span>
            </ui-select-choices>
          </ui-select>
          <span ng-show="myForm.carrera.$invalid" style="color: red">{{'SELECCIONAR_CARRERA' | translate}}</span>
        </form>
      </div>

      <div class="panel col-sm-12" ng-if="loadSolicitudes">      
        <loading tam="4" load="loadSolicitudes" message="msgCargandoSolicitudes"> </loading>
      </div>

      <div class="col-sm-12">
      <div class="panel panel-default panel-body" style="margin-top: 20px;" ng-if="sols.length>0 && loadSolicitudes!==true">
       <div class="mi-grid" id="mi-grid" ui-grid="listarSolicitudes.gridOptions"></div><br>
       <center>
        <!--<button ng-if="fechaActual >= fecha_inicio && fechaActual < segunda_fecha && listarSolicitudes.carreraSeleccionada != null && listarSolicitudes.gridOptions.data.length>0" ng-click="$('#modalCupos').modal('show')" class="btn btn-primary">Seleccionar Admitidos</button>
        <button ng-if="fechaActual >= segunda_fecha && fechaActual<=fecha_fin && listarSolicitudes.carreraSeleccionada != null && listarSolicitudes.gridOptions.data.length>0 " ng-click="listarSolicitudes.solicitudes2()" class="btn btn-success">Seleccionar Admitidos </button>
        <button ng-if="fechaActual == fecha_fin && carreraSeleccionada != null && listarSolicitudes.listarSolicitudes.gridOptions.data.length>0" ng-click="listarSolicitudes.solicitudes3()" class="btn btn-info">Seleccionar Admitidos</button>-->
        <button ng-if="listarSolicitudes.primeraFecha.inicio<=fechaActual && listarSolicitudes.primeraFecha.fin>=fechaActual" ng-click="$('#modalCupos').modal('show')" class="btn btn-primary">Seleccionar Admitidos</button>
        <button ng-if="listarSolicitudes.segundaFecha.inicio<=fechaActual && listarSolicitudes.segundaFecha.fin>=fechaActual" ng-click="listarSolicitudes.solicitudes2()" class="btn btn-success">Seleccionar Admitidos </button>
      </center><br>

    </div>

    <div ng-if="sols.length===0 && loadSolicitudes!==true" class="alert alert-danger control-label" style="margin-top: 20px;">
      {{'NO_SOLICITUDES_POSGRADO' | translate}}
    </div>
  </div>
  </div>
    <!--pre>
     {{'FECHA_ACTUAL' | translate}}  {{fechaActual| date:'dd-MM-yyyy'}}
     {{'FECHA_INICIO' | translate}} {{'INICIO' | translate}} {{listarSolicitudes.primeraFecha.inicio}} {{'FIN' | translate}} {{listarSolicitudes.primeraFecha.fin}}
     {{'FECHA_INICIO_DOS' | translate}}  {{'INICIO' | translate}} {{listarSolicitudes.segundaFecha.inicio}} {{'FIN' | translate}} {{listarSolicitudes.segundaFecha.fin}}
   </pre-->
    <br>
    <div class="panel panel-default" >
      <div class="panel-heading">
        {{'FECHAS_PROCESO_MATERIAS_POSGRADO' | translate}}
      </div>
      <div class="panel-body">
        <div class="row" ng-repeat="fecha in listarSolicitudes.fechas">
            <label class="col-sm-12"> {{fecha.SesionHijo.Descripcion}} </label>
            <!--label class="col-sm-5"> {{fecha.SesionHijo.TipoSesion.Nombre}} </label-->
            <label class="col-sm-2">{{'FECHA_INICIO' | translate}}:</label>
            <label class="col-sm-4">{{fecha.inicio}}</label>
            <label class="col-sm-2">{{'FECHA_FIN' | translate}}:</label>
            <label class="col-sm-4">{{fecha.fin}}</label>
        </div>
      </div>
    </div>


    

  


        <!--
      <script type="text/ng-template" id="dialog.tmpl.html">

      <md-dialog flex="60" aria-label="Selección de Admitidos" >
        <form role="form" name="formAdmitidos" id="formAdmitidos">
        <md-toolbar>
          <div class="md-toolbar-tools">
            <h2 flex="95">{{'SELECCION_DE_ADMITIDOS' | translate}}</h2>
            <md-button class="md-icon-button" ng-click="cancel()">
              <md-icon md-svg-src="images/icon_close.png" aria-label="Close dialog"></md-icon>
            </md-button>
          </div>
        </md-toolbar>

        <md-dialog-content >
          <div class="md-dialog-content" >
              <md-input-container class="md-icon-float md-icon-right md-block">
                <label>{{'ADMITIDOS_POR_EXCELENCIA_A' | translate}} {{cupos_excelencia}})</label>

                <input ng-model="cupos_excelencia_ingresado" ng-disabled="cupos_excelencia_ingresado!=null" name="rendimiento" placeholder="Ingrese el número de admitidos por excelencia académica y exentos de pago" type="number" min="0" max="{{cupos_excelemcia}}" step="1" required="">
                <div ng-messages="formAdmitidos.rendimiento.$error" ng-show="formAdmitidos.rendimiento.$dirty">
                  <div ng-message="required">{{'REQUERIDO' | translate}}</div>
                </div>
              </md-input-container>

              <md-input-container class="md-icon-float md-icon-right md-block">
                <label>{{' ADMITIDOS_POR_COND_EC' | translate}} {{cupos_adicionales}})</label>
                <input ng-model="cupos_adicionales_ingresado" ng-disabled="cupos_adicionales_ingresado!=null" size="30" placeholder="Ingrese el número de admitidos por condiciones económicas y calidades académicas" type="number" min="0" max="{{cupos_adicionales}}" step="1" required>
                <div ng-messages="formAdmitidos.economicas.$error">
                  <div ng-message="required">{{'REQUERIDO' | translate}}</div>
                </div>
              </md-input-container>
              <md-button ng-disabled="cupos_excelencia_ingresado == null || cupos_adicionales_ingresado == null" ng-click="answer(dialog)" class="md-raised md-primary">Aceptar</md-button>

          </div>
        </md-dialog-content>
    </form>
    </md-dialog>
    </script>
  -->
</div>
</div>
<div class="panel-footer">
  Panel Footer
</div>
</div>


<div id="modalCupos" class="modal fade col-md-12" role="dialog" style="padding-top:5%">
  <div class="modal-content col-md-offset-2 col-md-8">
    <div class="modal-header">
      <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal" ng-click="">&times</button><br>
    </div>
    <div class="panel panel-default">

      <div class="panel-heading">
        Cupos
      </div>

      <div class="panel-body">

        <div clase="row">
          <div class="col-md-12">
            <label>{{'ADMITIDOS_POR_EXCELENCIA_A' | translate}} {{cupos_excelencia}})</label>
            <input ng-model="cupos_excelencia_ingresado" name="rendimiento" placeholder="Ingrese el número de admitidos por excelencia académica y exentos de pago" type="number" min="0" max="{{cupos_excelencia}}" step="1" required class="form-control">
            <br>
          </div>
        </div>

        <div clase="row">
          <div class="col-md-12">
            <label>{{' ADMITIDOS_POR_COND_EC' | translate}} {{cupos_adicionales}})</label>
            <input ng-model="cupos_adicionales_ingresado" placeholder="Ingrese el número de admitidos por condiciones económicas y calidades académicas" type="number" min="0" max="{{cupos_adicionales}}" step="1" required class="form-control">
            <br>
          </div>
        </div>
        <div clase="row">
          <div class="col-md-12"><center>
            <button class="btn btn-primary" type="button" ng-disabled="cupos_excelencia_ingresado == null || cupos_adicionales_ingresado == null" ng-click="listarSolicitudes.admitidos1()">Aceptar</button></center>
          </div>
        </div>

      </div>

    </div>
  </div>
</div>
